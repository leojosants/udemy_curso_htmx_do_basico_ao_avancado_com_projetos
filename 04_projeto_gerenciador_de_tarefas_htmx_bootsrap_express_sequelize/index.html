<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Gerenciador de tarefas</title>
		<!-- bootstrap cdn -->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		/>
		<!-- htmx cdn -->
		<script
			src="https://unpkg.com/htmx.org@1.9.10"
			integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
			crossorigin="anonymous"
		></script>
		<script src="script.js" defer></script>
	</head>
	<body>
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-8 mt-2">
					<h1 class="text-center mb-4">Gerenciador de Tarefas</h1>

					<!-- formulario -->
					<form
						class="mb-4"
						id="todo-form"
						hx-post="http://localhost:3000/todos"
						hx-target="#msg"
					>
						<div class="form-group">
							<input
								type="text"
								class="form-control"
								name="text"
								placeholder="Digite a tarefa"
								id="todo-text"
							/>
						</div>

						<div class="form-group">
							<select
								class="form-control"
								name="difficulty"
								id="todo-difficulty"
							>
								<option value="Fácil">Fácil</option>
								<option value="Intermediária">Intermediária</option>
								<option value="Difícil">Difícil</option>
							</select>
						</div>

						<button type="submit" class="btn btn-primary">
							Adicionar
						</button>
					</form>

					<!-- formulario de edicao -->
					<form
						class="mb-4 d-none"
						id="edit-form"
						hx-put="http://localhost:3000/todos"
						hx-target="#msg"
					>
						<input type="hidden" name="id" id="edit-id" />

						<div class="form-group">
							<input
								type="text"
								class="form-control"
								name="text"
								placeholder="Digite a tarefa"
								id="edit-text"
							/>
						</div>

						<div class="form-group">
							<select
								class="form-control"
								name="difficulty"
								id="edit-difficulty"
							>
								<option value="Fácil">Fácil</option>
								<option value="Intermediária">Intermediária</option>
								<option value="Difícil">Difícil</option>
							</select>
						</div>

						<button type="submit" class="btn btn-success">
							Salvar alterações
						</button>

						<button
							type="button"
							class="btn btn-secondary"
							onclick="cancelEdit()"
						>
							Cancelar
						</button>
					</form>

					<!-- mensagens do sistema -->
					<div id="msg"></div>

					<!-- lista de tarefas -->
					<div
						id="todo-list"
						hx-get="http://localhost:3000/todos"
						hx-trigger="load"
						class="mt-4"
					>
						Carregando
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
